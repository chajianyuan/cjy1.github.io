---
title: css：float和position
date: 2019-10-18 13:40:04
tags: css
category: 技术
---

<meta name="referrer" content="no-referrer"/>

## 一、float(浮动)

`float: left | right | none | inherit`

<!--more-->

| 值      | 描述                                             |
| ------- | ------------------------------------------------ |
| left    | 元素向左浮动                                     |
| right   | 元素向右移动                                     |
| none    | 默认值，元素不浮动。并会显示其在文本中出现的位置 |
| inherit | 规定应该从父元素继承 float 属性的值              |

### 1、什么是 float 浮动？

float 会使元素向左或向右移动，直到它的外边缘碰到包含框或者另一个浮动框的边框为止

### 2、元素怎么浮动？有什么特点？

**特点可以用八个字来表示：脱标、贴边、字围、收缩**

![](https://user-gold-cdn.xitu.io/2018/9/4/165a5221116132cf?imageslim)

当框 1 向左浮动时，它脱离文档流（**脱标**）并且向左移动（**贴边**），直到它的左边缘碰到包含框的左边缘，因为它脱离了文档流，所以不占据空间，实际上覆盖了 2，使框 2 从视图上消失，如果框 2 中有文字，会围着框 1 排开（**字围**）。如果给一个内联元素设置浮动后，不需要设置`dispaly:block`他就可以设置宽高，如果给一个块级元素设置浮动，它的宽度不再是给定的宽度（或者是占满一行），而是里面内容的宽度（**收缩**）。

浮动元素之后的元素将围绕它。

浮动元素之前的元素不会受到他的影响。

### 3、彼此相邻的浮动元素

如果把几个浮动的元素放在一起，如果有空间的话，他们将彼此相邻

### 4、浮动元素引起的问题

（1）父元素的高度无法撑开（**高度塌陷**），影响与父元素同级的元素

（2）与元素同级的非浮动元素会紧随其后（类似遮盖现象）

### 5、清除浮动

元素浮动之后，周围的元素会重新排列，为了避免这种情况

（1）为父元素设置固定高度（扩展性不好）

（2）为父元素设置`overflow: hidden` ，即可清楚浮动，让父元素的高度被撑开，这种方法让父容器形成了 BFC（块级格式化上下文），因为 BFC 中能包含浮动。**但是有个缺陷：如果有内容出了盒子，用这种方法就会把多余的部分裁切掉，所以这时不能使用。**

（3）使用`clear`属性，clear 属性指定元素两侧不能出现浮动元素`clear: both`

（4）外墙法指在父元素外面，添加一道墙，设置`clear: both`

（5）内墙法指在父元素内部，浮动元素的最后面，添加一道墙，设置属性`clear: both` ，**添加的那个元素必须是块级元素，不然无法撑起父级元素高度**

```
<div id="wrap">
	<div id="inner"></div>
	<div style="clear: both;"></div>
</div>
```

```
#wrap{
	border: 1px solid;
}
#inner{
	float: left;
	width: 200px;
	height: 200px;
	background: pink;
}
```

（6）伪元素是指为了少创建元素，对父元素添加 after 伪元素，设置属性`content: ""; display: bloak; clear: both`

（7）使用通用类 clearfix，clearfix 的实现如下：

```
.clearfix:after{
  content: '';
  display: block;
  clear: both;
}
```

（7）br 标签清除浮动，br 标签存在一个属性：clear。这个属性就是能够清除浮动的利器，在 br 标签中设置属性 clear，并赋值 all。即能清除掉浮动

```
<div id="wrap">
	<div id="inner"></div>
	<br clear="all" />
</div>
```

[如何清除浮动](https://juejin.im/post/5be53c0fe51d451e5a32e5ac)

[CSS Float(浮动)](https://www.runoob.com/css/css-float.html)

## 二、position

[参照菜鸟教程 position](https://www.runoob.com/css/css-positioning.html)

`position: absolute | fixed | relative | static | sticky | inherit`

| 值       | 描述                                                                                                                                                                                                                                                                                                                                                                           |
| -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| absolute | **绝对定位**，相对于**除 static 以外的第一个已定位父元素**进行定位，如果元素没有已定位的父元素，那么他的位置相对于< html >，absolute 定位使元素的位置与文档流无关，因此**不占据空间** ，                                                                                                                                                                                       |
| fixed    | **固定定位**，相对于**浏览器窗口**进行定位，元素的位置通过“left”,"top","right"以及"bottom"属性进行规定，Fixed 定位使元素的位置与文档流无关，因此**不占据空间**，Fixed 定位的元素和其他元素**重叠 **                                                                                                                                                                            |
| relative | **相对定位** ，相对于**其正常位置**进行定位，因此，`left:20px` 会向元素的 LEFT 位置添加 20 像素，移动相对定位元素，但他**原本所占的空间不会改变** ，相对定位元素经常被用来作为绝对定位元素的容器块                                                                                                                                                                             |
| static   | **默认，没有定位** ，元素出现 在正常的流中（忽略 top，bottom，left，right 或者 z-index 声明）                                                                                                                                                                                                                                                                                  |
| sticky   | **粘性定位** ，该定位基于**用户滚动**的位置，他的行为就像 position:relative；当页面滚动超出目标区域时，它的表现就像`position:fixed` ，他会固定在目标位置，元素定位表现为在跨越特定阈值前为相对定位，之后为固定定位。这个特定阈值指的是 top、right、bottom 或 left 之一，换言之，指定 top、right、bottom 或 left 四个阈值其中之一，才可使粘性定位生效，否则其行为与相对定位相同 |
| inherit  | 规定应该从**父元素继承`position` 属性**                                                                                                                                                                                                                                                                                                                                        |

## 三、重叠元素

`z-index: number | auto | inherit`

元素的定位与文档流无关，所以他们可以覆盖在页面其它元素

z-index 属性指定了一个元素的堆叠顺序（那个元素应该放在前面或后面）

一个元素可以有正数或负数的排列顺序

具有更高堆叠顺序的元素总是在较低的堆叠顺序元素的前面

**注意**：如果两个定位元素重叠，没有指定 z-index，最后定位在 HTML 代码中的元素将被显示在最前面

## 四、`position: absolute`和 `float` 的异同

**共同点：** 可以让元素脱离文档流，如果是内联元素，可以为它设置宽高

**不同点：** float 仍可以占据位置，不会覆盖在另一个 BFC 区域上，浮动的框可以向左或向右移动，直到它的外边缘碰到包含框或另一个浮动框的边框为止，如果浮动盒子后面是个非浮动盒子，浮动盒子会覆盖非浮动盒子，但是非浮动盒子中的内容不会被覆盖，会环绕在浮动盒子四周；absolute 会覆盖文档流中的其他元素，即出现遮盖元素
