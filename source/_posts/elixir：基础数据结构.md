---
title: elixir：基础数据结构
date: 2021-03-01 11:46:34
tags: elixir
category: 技术
---

![](https://img.draveness.me/2019-02-13-elixir-programming-language.png)

<!--more-->

### 一、概述

简单介绍下`elixir`，`elixir`官方将其定义成了【一个用于构建可伸缩、可维护应用的动态、函数式编程语言】、它运行在Erlang的虚拟机上，能够充分利用虚拟机的优点运行低延时、高容错的分布式系统。

#### 函数式

函数式编程其实是一种编程范式，它强调程序执行的结果而不是过程。

#### 不可变

即所有数据结构一旦被初始化就不能被改变。

#### 模式匹配

这个特性不仅能够对数据结构进行解构，还能够帮助根据函数的入参对方法逻辑进行拆分使代码更加清晰。

#### 面向并发

### 二、数据结构

```
1            => integer
0x1F         => integer
1.0          => float
:atom        => atom / symbol
"elixir"     => string
[1, 2, 3]    => list
{1, 2, 3}    => tuple
```

#### 1. 基础运算

```
 1 + 2       => 3
 5 * 5       => 25
 10 / 2      => 5.0
```
`elixir`同时支持二进制、八进制和十六进制的数字

```
0x1F         => 31 
0o777        => 511
0b1010       => 10
```

#### 2. 布尔值

```
is_boolean(true)   => true
is_boolean(1)      => false
```

> 可以使用`is_integer/1`检查参数是否是整数
> 可以使用`is_float/1`检查参数是否为浮点数
> 可以使用`is_number/1`检查参数是否为上面两个中的一个

#### 3. 原子

也就是`Symbols`，代表以名字为值的恒量

#### 4. 字符串

字符串必须用双引号来表达，并且用UTF-8编码

（1）`IO.puts/1`来打印字符串

（2）字符串在底层是用二进制，`is_binary`

（3）`byte_size`计算字符串的字节数

（4）`String.length/1`计算字符串长度

> ⚠️ 单引号和双引号是不一样的

```
'hello' == "hello"  => false
```

#### 5. 匿名函数

函数用关键值`fn`和`end`来表达

```
add = fn a, b -> a + b end
```

> ⚠️ 当调用匿名函数时，在指向这个匿名函数的变量名和圆括号之间需要有一个点（.）`add.(1, 2)`

> ❕在一个函数内部的变量赋值，并不影响函数外部的环境

（1）`is_function/1`检验是否为函数

（2）`if_funciton/2`检查一个函数接受的函数数量

#### 6. （链接）列表

用方括号标识一个列表，内部的类型是随意的

使用函数`++2`，`--2`进行合并或相异操作

```
[1, 2, 3] ++ [4, 5, 6]                          => [1, 2, 3, 4, 5, 6]
[1, true, 2, false, 3, true] -- [true, false]   => [1, 2, 3, true]
```

（1）`hd/1` 获得列表的第一个元素

（2）`tl` 获得除第一个元素剩余的元素

> ⚠️ 获取一个空列表的头会导致一个错误 `(ArgumentError) argument error`

#### 7. 元组

元组用花括号表示

（1） `elem/2`获取元组中的某个元素

（2）`set_elem/3`可以把一个元素放在一个特定的索引上（返回一个新元组，不会破坏原元组）