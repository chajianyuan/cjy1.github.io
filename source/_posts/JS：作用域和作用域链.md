---
title: 'JS：作用域和作用域链'
date: 2021-03-23 07:17:18
tags:
---
<img src="https://github.com/chajianyuan/picture/blob/master/1621616508791_.pic.jpg?raw=true" width="600px" />

<!--more-->

### 一、作用域链

当查找变量时，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级执行上下文的变量对象中查找，一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的链表就叫做`作用域链`。

### 二、作用域

**`作用域`就是一个独立的地盘，让变量不会外泄、暴露出去，也就是说作用域最大的用处就是隔离变量，不同作用域下同名变量不会有冲突。**

ES6 之前 JavaScript 没有块级作用域，只有全局作用域和函数作用域

- **全局作用域**：在代码中任何地方都能访问到，比如最外层函数和在最外层函数外面定义的变量、所有未定义直接赋值的变量、所有 window 对象的属性
- **函数作用域**：声明在函数里面的变量 ，只在固定的代码片段内能访问到
- **块级作用域**：可通过 let 和 const 声明，所声明的变量在指定块的作用域外无法被访问，所声明的变量不会提升到代码块顶部，禁止重复声明，如在一个函数内部、在一个代码块（用一对花括号包裹）内部

**块语句（大括号“{}”中间的语句），如 if 和 switch 条件语句或 for 和 while 循环语句，不像函数，他们不会创建一个新的作用域。**

**作用域在定义时就确定，并且不会改变；执行上下文在运行时确定，随时可能改变。**

参考：[深入理解 JavaScript 作用域和作用域链](https://juejin.im/post/5c8290455188257e5d0ec64f)